{"version":3,"sources":["components/calendar.js","components/calendarSourceBase.js","components/calendarSource.js","components/calendarSourceGoogle.js","components/calendarEvent.js"],"names":["dmx","Component","initialData","title","activeStart","activeEnd","currentStart","currentEnd","constructor","node","parent","this","onDateClick","bind","onEventClick","onEventMouseEnter","onEventMouseLeave","onEventDrop","onEventResize","onEventRender","onEventDestroy","onSelect","parseSource","BaseComponent","call","attributes","timezone","type","String","default","date","locale","height","aspect-ratio","Number","view","views","Array","theme","hide-non-current-dates","Boolean","selectable","editable","no-event-overlap","business-hours","google-calendar-api-key","no-fixed-week-count","event-order","event-limit","now-indicator","bs4-tooltip","bs4-tooltip-placement","bs4-tooltip-title","views-options","Object","methods","gotoDate","calendar","updateSize","prev","next","prevYear","nextYear","today","events","dateclick","MouseEvent","eventclick","eventmouseenter","eventmouseleave","eventdrop","Event","eventresize","select","info","dispatchEvent","jsEvent","dateStr","allDay","preventDefault","event","getEventProps","scope","DataScope","source","internalEventSource","extendedProps","bs4Tooltip","$","el","tooltip","placement","parse","bs4TooltipPlacement","bs4TooltipTitle","props","set","parseDate","start","startStr","end","endStr","child","register","$parseAttributes","self","prototype","dom","getAttributes","forEach","attr","name","$addBinding","value","isArray","push","parseAttribute","toCamelCase","argument","modifiers","constraint","binding","removeAttribute","fullName","render","plugins","filter","window","toUpperCase","slice","FullCalendar","Calendar","googleCalendarApiKey","timeZone","defaultDate","defaultView","aspectRatio","themeSystem","selectConstraint","showNonCurrentDates","eventOverlap","businessHours","fixedWeekCount","eventOrder","eventLimit","nowIndicator","dateClick","eventClick","eventMouseEnter","eventMouseLeave","eventDrop","eventResize","eventRender","eventDestroy","header","left","center","right","toString","$parse","update","changeView","setOption","equal","beforeDestroy","destroy","id","toISOString","attrName","re","RegExp","replace","nodeType","i","length","attribute","specified","test","split","part","pos","indexOf","substr","getFullYear","getMonth","getDate","str","a","b","console","error","color","background-color","border-color","text-color","class-name","overlap","refetch","getEventSourceById","extends","parseEvents","event-id","event-title","event-url","event-start","event-end","event-all-day","event-days-of-week","event-start-time","event-end-time","event-start-recur","event-end-recur","event-group-id","event-rendering","event-color","event-background-color","event-border-color","event-text-color","event-class-name","event-editable","event-overlap","event-extended-props","success","failure","repeatItems","data","prop","children","addEventSource","assign","onSuccess","onFailure","google-calendar-id","err","url","all-day","days-of-week","start-time","end-time","start-recur","end-recur","group-id","rendering","extended-props"],"mappings":"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","file":"../dmxCalendar/dmxCalendar.js","sourcesContent":["dmx.Component('calendar', {\r\n\r\n    initialData: {\r\n        title: null,\r\n        activeStart: null,\r\n        activeEnd: null,\r\n        currentStart: null,\r\n        currentEnd: null\r\n    },\r\n\r\n    constructor: function(node, parent) {\r\n        this.onDateClick = this.onDateClick.bind(this);\r\n        this.onEventClick = this.onEventClick.bind(this);\r\n        this.onEventMouseEnter = this.onEventMouseEnter.bind(this);\r\n        this.onEventMouseLeave = this.onEventMouseLeave.bind(this);\r\n        this.onEventDrop = this.onEventDrop.bind(this);\r\n        this.onEventResize = this.onEventResize.bind(this);\r\n        this.onEventRender = this.onEventRender.bind(this);\r\n        this.onEventDestroy = this.onEventDestroy.bind(this);\r\n        this.onSelect = this.onSelect.bind(this);\r\n        this.parseSource = this.parseSource.bind(this);\r\n\r\n        dmx.BaseComponent.call(this, node, parent);\r\n    },\r\n\r\n    attributes: {\r\n        'timezone': { // moment-timezone or luxon plugin for named timezones\r\n            type: String,\r\n            default: 'local' // \"local\", \"UTC\"\r\n        },\r\n\r\n        'date': {\r\n            type: String,\r\n            default: null // ISO8601 format\r\n        },\r\n\r\n        'locale': { // locales include needed\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'height': { // height of entire calendar\r\n            type: String,\r\n            default: null // interger, \"parent\", \"auto\"\r\n        },\r\n\r\n        'aspect-ratio': { // width-to-height aspect ratio\r\n            type: Number,\r\n            default: 1.35\r\n        },\r\n\r\n        'view': { // dayGrid, timeGrid, list plugin\r\n            type: String,\r\n            default: null // name of view like \"dayGridMonth\"\r\n        },\r\n\r\n        'views': {\r\n            type: Array,\r\n            default: []\r\n        },\r\n\r\n        'theme': { // bootstrap plugin\r\n            type: String,\r\n            default: 'standard' // \"standard\", \"bootstrap\"\r\n        },\r\n\r\n        'hide-non-current-dates': { // dayGrid plugin (dayGridMonth only)\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        'selectable': { // interaction plugin\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        /* will use custom parser for this\r\n        'constraint': { // interaction plugin\r\n            type: [String, Object], // https://fullcalendar.io/docs/selectConstraint\r\n            default: null\r\n        },\r\n        */\r\n\r\n        'editable': { // interaction plugin\r\n            type: Boolean,\r\n            default: null\r\n        },\r\n\r\n        'no-event-overlap': {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        'business-hours': {\r\n            type: Boolean, // https://fullcalendar.io/docs/businessHours\r\n            default: false\r\n        },\r\n\r\n        'google-calendar-api-key': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'no-fixed-week-count': {\r\n            type: Boolean, // https://fullcalendar.io/docs/fixedWeekCount\r\n            default: false\r\n        },\r\n\r\n        'event-order': {\r\n            type: String, // https://fullcalendar.io/docs/eventOrder\r\n            default: 'start,-duration,allDay,title'\r\n        },\r\n\r\n        'event-limit': {\r\n            type: [Boolean, Number], // https://fullcalendar.io/docs/eventLimit\r\n            default: false\r\n        },\r\n\r\n        'now-indicator': {\r\n            type: Boolean, // https://fullcalendar.io/docs/nowIndicator\r\n            default: false\r\n        },\r\n\r\n        'bs4-tooltip': {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        'bs4-tooltip-placement': {\r\n            type: String, // expression\r\n            default: '\"top\"'\r\n        },\r\n\r\n        'bs4-tooltip-title': {\r\n            type: String, // expression\r\n            default: 'event.extendedProps.description || event.title'\r\n        },\r\n\r\n        'views-options': {\r\n            type: Object, // https://fullcalendar.io/docs/view-specific-options\r\n            default: {}\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        gotoDate: function(date) {\r\n            this.calendar.gotoDate(date);\r\n        },\r\n\r\n        updateSize: function() {\r\n            this.calendar.updateSize();\r\n        },\r\n\r\n        prev: function() {\r\n            this.calendar.prev();\r\n        },\r\n\r\n        next: function() {\r\n            this.calendar.next();\r\n        },\r\n\r\n        prevYear: function() {\r\n            this.calendar.prevYear();\r\n        },\r\n\r\n        nextYear: function() {\r\n            this.calendar.nextYear();\r\n        },\r\n\r\n        today: function() {\r\n            this.calendar.today();\r\n        }\r\n    },\r\n\r\n    events: {\r\n        dateclick: MouseEvent, // interaction plugin\r\n        eventclick: MouseEvent,\r\n        eventmouseenter: MouseEvent,\r\n        eventmouseleave: MouseEvent,\r\n        eventdrop: Event,\r\n        eventresize: Event,\r\n        select: Event\r\n    },\r\n\r\n    onDateClick: function(info) {\r\n        var cancelled  = !this.dispatchEvent('dateclick', info.jsEvent, {\r\n            date: info.dateStr,\r\n            allDay: info.allDay\r\n        });\r\n\r\n        if (cancelled) {\r\n            info.jsEvent.preventDefault();\r\n        }\r\n    },\r\n\r\n    onEventClick: function(info) {\r\n        var cancelled  = !this.dispatchEvent('eventclick', info.jsEvent, {\r\n            event: this.getEventProps(info.event)\r\n        });\r\n\r\n        if (cancelled) {\r\n            info.jsEvent.preventDefault();\r\n        }\r\n    },\r\n\r\n    onEventMouseEnter: function(info) {\r\n        this.dispatchEvent('eventmouseenter', info.jsEvent, {\r\n            event: this.getEventProps(info.event)\r\n        });\r\n    },\r\n\r\n    onEventMouseLeave: function(info) {\r\n        this.dispatchEvent('eventmouseleave', info.jsEvent, {\r\n            event: this.getEventProps(info.event)\r\n        });\r\n    },\r\n\r\n    onEventDrop: function(info) {\r\n        this.dispatchEvent('eventdrop', info.jsEvent, {\r\n            event: this.getEventProps(info.event)\r\n        });\r\n    },\r\n\r\n    onEventResize: function(info) {\r\n        this.dispatchEvent('eventresize', info.jsEvent, {\r\n            event: this.getEventProps(info.event)\r\n        });\r\n    },\r\n\r\n    onEventRender: function(info) {\r\n        var scope = new dmx.DataScope({\r\n            event: this.getEventProps(info.event)\r\n        }, this);\r\n\r\n        if (info.event.source && info.event.source.internalEventSource.extendedProps && info.event.source.internalEventSource.extendedProps.bs4Tooltip) {\r\n            $(info.el).tooltip({\r\n                placement: dmx.parse(info.event.source.internalEventSource.extendedProps.bs4TooltipPlacement, scope) || 'top',\r\n                title: dmx.parse(info.event.source.internalEventSource.extendedProps.bs4TooltipTitle, scope) || ''\r\n            });\r\n        } else if (this.props['bs4-tooltip']) {\r\n            $(info.el).tooltip({\r\n                placement: dmx.parse(this.props['bs4-tooltip-placement'], scope) || 'top',\r\n                title: dmx.parse(this.props['bs4-tooltip-title'], scope) || ''\r\n            });\r\n        }\r\n\r\n        this.set({\r\n            title: info.view.title,\r\n            activeStart: this.parseDate(info.view.activeStart),\r\n            activeEnd: this.parseDate(info.view.activeEnd),\r\n            currentStart: this.parseDate(info.view.currentStart),\r\n            currentEnd: this.parseDate(info.view.currentEnd)\r\n        });\r\n    },\r\n\r\n    onEventDestroy: function(info) {\r\n        if (this.props['bs4-tooltip']) {\r\n            $(info.el).tooltip('dispose');\r\n        }\r\n    },\r\n\r\n    onSelect: function(info) {\r\n        this.dispatchEvent('select', info.jsEvent, {\r\n            start: info.startStr,\r\n            end: info.endStr,\r\n            allDay: info.allDay\r\n        });\r\n    },\r\n\r\n    parseSource: function(child) {\r\n        if (child instanceof dmx.Component('calendar-source-base')) {\r\n            child.calendar = this.calendar;\r\n            child.register();\r\n        }\r\n    },\r\n\r\n    $parseAttributes: function(node) {\r\n        var self = this;\r\n\r\n        dmx.BaseComponent.prototype.$parseAttributes.call(this, node);\r\n\r\n        // parse dmx-business-hours\r\n        dmx.dom.getAttributes(node).forEach(function(attr) {\r\n            if (attr.name == 'business-hours') {\r\n                self.$addBinding(attr.value, function(value) {\r\n                    if (value != null) {\r\n                        if (!Array.isArray(this.props['business-hours'])) {\r\n                            self.props['business-hours'] = [];\r\n                        }\r\n\r\n                        self.props['business-hours'].push(value);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        // views options custom parse\r\n        this.parseAttribute(node, 'views-options').forEach(function(attr) {\r\n            self.$addBinding(attr.value, function(value) {\r\n                self.props['views-options'][this.toCamelCase(attr.argument)] = value || {};\r\n            });\r\n        });\r\n\r\n        // constraint custom parse\r\n        this.parseAttribute(node, 'constraint').forEach(function(attr) {\r\n            if (attr.modifiers['business-hours']) {\r\n                // special case for businessHours modifier\r\n                self.props.constraint = 'businessHours';\r\n            } else {\r\n                if (attr.binding) {\r\n                    // dynamic attribute\r\n                    self.$addBinding(attr.value, function(value) {\r\n                        self.props.constraint = value;\r\n                    });\r\n                } else {\r\n                    // static attribute\r\n                    self.props.constraint = attr.value;\r\n                }\r\n            }\r\n\r\n            // we need to remove the attribute so that the default parser doesn't parse it\r\n            node.removeAttribute(attr.fullName);\r\n        });\r\n    },\r\n\r\n    render: function(node) {\r\n        // detect installed plugins\r\n        var plugins = ['interaction', 'dayGrid', 'timeGrid', 'list', 'bootstrap', 'googleCalendar'].filter(function(name) {\r\n            return !!window['FullCalendar' + name[0].toUpperCase() + name.slice(1)];\r\n        });\r\n\r\n        this.calendar = new FullCalendar.Calendar(node, {\r\n            plugins: plugins,\r\n            googleCalendarApiKey: this.props['google-calendar-api-key'],\r\n            timeZone: this.props.timezone,\r\n            defaultDate: this.props.date,\r\n            defaultView: this.props.view,\r\n            locale: this.props.locale,\r\n            height: this.props.height,\r\n            aspectRatio: this.props['aspect-ratio'],\r\n            themeSystem: this.props.theme,\r\n            selectable: this.props.selectable,\r\n            selectConstraint: this.props.constraint,\r\n            editable: this.props.editable,\r\n            showNonCurrentDates: !this.props['hide-non-current-dates'],\r\n            eventOverlap: !this.props['no-event-overlap'],\r\n            businessHours: this.props['business-hours'],\r\n            fixedWeekCount: !this.props['no-fixed-week-count'],\r\n            eventOrder: this.props['event-order'],\r\n            eventLimit: this.props['event-limit'],\r\n            nowIndicator: this.props['now-indicator'],\r\n            dateClick: this.onDateClick,\r\n            eventClick: this.onEventClick,\r\n            eventMouseEnter: this.onEventMouseEnter,\r\n            eventMouseLeave: this.onEventMouseLeave,\r\n            eventDrop: this.onEventDrop,\r\n            eventResize: this.onEventResize,\r\n            eventRender: this.onEventRender,\r\n            eventDestroy: this.onEventDestroy,\r\n            select: this.onSelect,\r\n            views: this.props['views-options'],\r\n            header: {\r\n                left: 'today prev,next',\r\n                center: 'title',\r\n                right: this.props.views.toString()\r\n            }\r\n        });\r\n\r\n        this.$parse();\r\n\r\n        this.calendar.render();\r\n    },\r\n\r\n    update: function(props) {\r\n        if (props.view != this.props.view) {\r\n            this.calendar.changeView(this.props.view || 'dayGridMonth');\r\n        }\r\n\r\n        if (props.date != this.props.date) {\r\n            this.calendar.gotoDate(this.props.date);\r\n        }\r\n\r\n        if (props.timezone != this.props.timezone) {\r\n            this.calendar.setOption('timeZone', this.props.timezone);\r\n        }\r\n\r\n        if (props.locale != this.props.locale) {\r\n            this.calendar.setOption('locale', this.props.locale);\r\n        }\r\n\r\n        if (props.theme != this.props.theme) {\r\n            this.calendar.setOption('themeSystem', this.props.theme);\r\n        }\r\n\r\n        if (props['hide-non-current-dates'] != this.props['hide-non-current-dates']) {\r\n            this.calendar.setOption('showNonCurrentDates', !this.props['hide-non-current-dates']);\r\n        }\r\n\r\n        if (props.selectable != this.props.selectable) {\r\n            this.calendar.setOption('selectable', this.props.selectable);\r\n        }\r\n\r\n        if (props.editable != this.props.editable) {\r\n            this.calendar.setOption('editable', this.props.editable);\r\n        }\r\n\r\n        if (props['no-event-overlap'] != this.props['no-event-overlap']) {\r\n            this.calendar.setOption('eventOverlap', !this.props['no-event-overlap']);\r\n        }\r\n\r\n        if (!dmx.equal(props['business-hours'], this.props['business-hours'])) {\r\n            this.calendar.setOption('businessHours', this.props['business-hours']);\r\n        }\r\n\r\n        if (!dmx.equal(props.constraint, this.props.constraint)) {\r\n            this.calendar.setOption('selectConstraint', this.props.constraint);\r\n        }\r\n\r\n        if (props['google-calendar-api-key'] != this.props['google-calendar-api-key']) {\r\n            this.calendar.setOption('googleCalendarApiKey', this.props['google-calendar-api-key']);\r\n        }\r\n\r\n        if (props['no-fixed-week-count'] != this.props['no-fixed-week-count']) {\r\n            this.calendar.setOption('fixedWeekCount', !this.props['no-fixed-week-count']);\r\n        }\r\n\r\n        if (props['event-order'] != this.props['event-order']) {\r\n            this.calendar.setOption('eventOrder', this.props['event-order']);\r\n        }\r\n\r\n        if (props['event-limit'] != this.props['event-limit']) {\r\n            this.calendar.setOption('eventLimit', this.props['event-limit']);\r\n        }\r\n\r\n        if (props['now-indicator'] != this.props['now-indicator']) {\r\n            this.calendar.setOption('nowIndicator', this.props['now-indicator']);\r\n        }\r\n\r\n        if (!dmx.equal(props['views-options'], this.props['views-options'])) {\r\n            this.calendar.setOption('views', this.props['views-options']);\r\n        }\r\n    },\r\n\r\n    beforeDestroy: function() {\r\n        this.calendar.destroy();\r\n    },\r\n\r\n    getEventProps: function(event) {\r\n        return {\r\n            id: event.id,\r\n            start: event.start && event.start.toISOString(),\r\n            end: event.end && event.end.toISOString(),\r\n            allDay: event.allDay,\r\n            title: event.title,\r\n            extendedProps: event.extendedProps\r\n        };\r\n    },\r\n\r\n    // special parse required for constraint attribute\r\n    // supports static/dynamic attributes\r\n    parseAttribute: function(node, attrName) {\r\n        var attributes = [];\r\n        var re = new RegExp('^(dmx\\\\-bind:)?' + attrName.replace(/[-[\\]{}()*+?.,\\^$|#\\s]/g, '\\\\$&'), 'i');\r\n\r\n        if (node.nodeType == 1) {\r\n            for (var i = 0; i < node.attributes.length; i++) {\r\n                var attribute = node.attributes[i];\r\n\r\n                if (attribute && attribute.specified && re.test(attribute.name)) {\r\n                    var name = attribute.name;\r\n                    var argument = null;\r\n                    var modifiers = {};\r\n\r\n                    name = name.replace(/^dmx\\-bind:/i, '');\r\n\r\n                    name.split('.').forEach(function(part, i) {\r\n                        if (i === 0) {\r\n                            name = part;\r\n                        } else {\r\n                            var pos = part.indexOf(':');\r\n                            if (pos > 0) {\r\n                                modifiers[part.substr(0, pos)] = part.substr(pos + 1);\r\n                            } else {\r\n                                modifiers[part] = true;\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    var pos = name.indexOf(':');\r\n                    if (pos > 0) {\r\n                        argument = name.substr(pos + 1);\r\n                        name = name.substr(0, pos);\r\n                    }\r\n\r\n                    attributes.push({\r\n                        name: name,\r\n                        binding: attribute.name.indexOf('dmx-bind:') === 0,\r\n                        fullName: attribute.name,\r\n                        value: attribute.value,\r\n                        argument: argument,\r\n                        modifiers: modifiers\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        return attributes;\r\n    },\r\n\r\n    parseDate: function(date) {\r\n        return date.getFullYear() + '-' + ('0' + (date.getMonth() + 1)).slice(-2) + '-' + ('0' + (date.getDate())).slice(-2) + ' 00:00:00'\r\n    },\r\n\r\n    toCamelCase: function(str) {\r\n        return str.replace(/-(\\w)/g, function(a, b) {\r\n            return b.toUpperCase();\r\n        });\r\n    }\r\n\r\n});","dmx.Component('calendar-source-base', {\r\n\r\n    constructor: function(node, parent, source) {\r\n        if (parent instanceof dmx.Component('calendar')) {\r\n            this.calendar = parent.calendar;\r\n        } else {\r\n            console.error('calendar-source can only be child of calendar component.');\r\n        }\r\n\r\n        dmx.BaseComponent.call(this, node, parent);\r\n    },\r\n\r\n    initialData: {\r\n        id: null,\r\n        events: []\r\n    },\r\n\r\n    attributes: {\r\n        'color': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'background-color': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'border-color': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'text-color': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'class-name': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'editable': {\r\n            type: Boolean,\r\n            default: null\r\n        },\r\n\r\n        'overlap': {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        'bs4-tooltip': {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        'bs4-tooltip-placement': {\r\n            type: String, // expression\r\n            default: '\"top\"'\r\n        },\r\n\r\n        'bs4-tooltip-title': {\r\n            type: String, // expression\r\n            default: 'event.extendedProps.description || event.title'\r\n        }\r\n    },\r\n    \r\n    methods: {\r\n        refetch: function() {\r\n            this.refetch();\r\n        }\r\n    },\r\n\r\n    render: function() {\r\n        if (!this.calendar) return;\r\n        this.$parse();\r\n        this.set('id', this.name);\r\n    },\r\n\r\n    refetch: function() {\r\n        this.calendar.getEventSourceById(this.name).refetch();\r\n    },\r\n\r\n    toCamelCase: function(str) {\r\n        return str.replace(/-(\\w)/g, function(a, b) {\r\n            return b.toUpperCase();\r\n        });\r\n    }\r\n\r\n});","dmx.Component('calendar-source', {\r\n\r\n    extends: 'calendar-source-base',\r\n\r\n    constructor: function(node, parent, source) {\r\n        this.parseEvents = this.parseEvents.bind(this);\r\n\r\n        dmx.Component('calendar-source-base').call(this, node, parent);\r\n    },\r\n\r\n    attributes: {\r\n        'events': {\r\n            type: Array,\r\n            default: []\r\n        },\r\n\r\n        'event-id': {\r\n            type: String,\r\n            default: 'id'\r\n        },\r\n\r\n        'event-title': {\r\n            type: String,\r\n            default: 'title'\r\n        },\r\n\r\n        'event-url': {\r\n            type: String,\r\n            default: 'url'\r\n        },\r\n\r\n        'event-start': {\r\n            type: String,\r\n            default: 'start'\r\n        },\r\n\r\n        'event-end': {\r\n            type: String,\r\n            default: 'end'\r\n        },\r\n\r\n        'event-all-day': {\r\n            type: String,\r\n            default: 'allDay'\r\n        },\r\n\r\n        'event-days-of-week': {\r\n            type: String,\r\n            default: 'daysOfWeek'\r\n        },\r\n\r\n        'event-start-time': {\r\n            type: String,\r\n            default: 'startTime'\r\n        },\r\n\r\n        'event-end-time': {\r\n            type: String,\r\n            default: 'endTime'\r\n        },\r\n\r\n        'event-start-recur': {\r\n            type: String,\r\n            default: 'startRecur'\r\n        },\r\n\r\n        'event-end-recur': {\r\n            type: String,\r\n            default: 'endRecur'\r\n        },\r\n\r\n        'event-group-id': {\r\n            type: String,\r\n            default: 'groupId'\r\n        },\r\n\r\n        'event-rendering': {\r\n            type: String,\r\n            default: 'rendering'\r\n        },\r\n\r\n        'event-color': {\r\n            type: String,\r\n            default: 'color'\r\n        },\r\n\r\n        'event-background-color': {\r\n            type: String,\r\n            default: 'backgroundColor'\r\n        },\r\n\r\n        'event-border-color': {\r\n            type: String,\r\n            default: 'borderColor'\r\n        },\r\n\r\n        'event-text-color': {\r\n            type: String,\r\n            default: 'textColor'\r\n        },\r\n\r\n        'event-class-name': {\r\n            type: String,\r\n            default: 'className'\r\n        },\r\n\r\n        'event-editable': {\r\n            type: String,\r\n            default: 'editable'\r\n        },\r\n\r\n        'event-overlap': {\r\n            type: String,\r\n            default: 'overlap'\r\n        },\r\n\r\n        'event-extended-props': {\r\n            type: String,\r\n            default: '$value'\r\n        }\r\n    },\r\n\r\n    parseEvents: function(info, success, failure) {\r\n        this.events = [];\r\n\r\n        if (Array.isArray(this.props.events)) {\r\n            dmx.repeatItems(this.props.events).forEach(function(data) {\r\n                var scope = new dmx.DataScope(data, this);\r\n                var event = {};\r\n\r\n                for (var prop in this.props) {\r\n                    if (prop.indexOf('event-') === 0) {\r\n                        var value = dmx.parse(this.props[prop], scope);\r\n\r\n                        if (value != null) {\r\n                            event[this.toCamelCase(prop.substr(6))] = value;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.events.push(event);\r\n            }, this);\r\n        }\r\n\r\n        this.children.forEach(function(child) {\r\n            if (child instanceof dmx.Component('calendar-event')) {\r\n                var event = { id: child.name };\r\n\r\n                for (var prop in child.props) {\r\n                    if (child.props[prop] != null) {\r\n                        event[this.toCamelCase(prop)] = child.props[prop];\r\n                    }\r\n                }\r\n\r\n                this.events.push(event);\r\n            }\r\n        }, this);\r\n\r\n        success(this.events);\r\n        \r\n        this.set('events', this.events);\r\n    },\r\n\r\n    render: function() {\r\n        if (!this.calendar) return;\r\n\r\n        this.$parse();\r\n\r\n        var props = {};\r\n\r\n        for (var prop in this.props) {\r\n            if (this.props[prop] != null) {\r\n                props[this.toCamelCase(prop)] = this.props[prop];\r\n            }\r\n        }\r\n        \r\n        this.calendar.addEventSource(Object.assign({\r\n            id: this.name\r\n        }, props, {\r\n            events: this.parseEvents\r\n        }));\r\n\r\n        this.set('id', this.name);\r\n    },\r\n\r\n    update: function(props) {\r\n        if (!dmx.equal(props.events, this.props.events)) {\r\n            this.refetch();\r\n        }\r\n    }\r\n\r\n});","dmx.Component('calendar-source-google', {\r\n\r\n    extends: 'calendar-source-base',\r\n\r\n    constructor: function(node, parent, source) {\r\n        this.onSuccess = this.onSuccess.bind(this);\r\n        this.onFailure = this.onFailure.bind(this);\r\n\r\n        dmx.Component('calendar-source-base').call(this, node, parent);\r\n    },\r\n\r\n    attributes: {\r\n        'google-calendar-api-key': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'google-calendar-id': {\r\n            type: String,\r\n            default: null\r\n        },\r\n    },\r\n\r\n    events: {\r\n        success: Event,\r\n        failure: Event\r\n    },\r\n\r\n    onSuccess: function() {\r\n        this.dispatchEvent('success');\r\n    },\r\n\r\n    onFailure: function(err) {\r\n        this.dispatchEvent('failure');\r\n    },\r\n\r\n    render: function() {\r\n        if (!this.calendar) return;\r\n\r\n        this.$parse();\r\n\r\n        var props = {};\r\n\r\n        for (var prop in this.props) {\r\n            if (this.props[prop] != null) {\r\n                props[this.toCamelCase(prop)] = this.props[prop];\r\n            }\r\n        }\r\n        \r\n        this.calendar.addEventSource(Object.assign({\r\n            id: this.name,\r\n            success: this.onSuccess,\r\n            failure: this.onFailure\r\n        }, props));\r\n\r\n        this.set('id', this.name);\r\n    }\r\n\r\n});","dmx.Component('calendar-event', {\r\n\r\n    constructor: function(node, parent, source) {\r\n        if (!(parent instanceof dmx.Component('calendar-source'))) {\r\n            console.error('calendar-event can only be child of calendar-source component.');\r\n        }\r\n\r\n        dmx.BaseComponent.call(this, node, parent);\r\n    },\r\n\r\n    attributes: {\r\n        'title': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'url': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'start': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'end': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'all-day': {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        'days-of-week': { // For defining a simple recurring event\r\n            type: Array,\r\n            default: null\r\n        },\r\n\r\n        'start-time': { // For defining a simple recurring event\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'end-time': { // For defining a simple recurring event\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'start-recur': { // For defining a simple recurring event\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'end-recur': { // For defining a simple recurring event\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'group-id': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'rendering': {\r\n            type: String, // background, inverse-background\r\n            default: null\r\n        },\r\n\r\n        'editable': {\r\n            type: Boolean,\r\n            default: null\r\n        },\r\n\r\n        'color': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'background-color': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'border-color': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'text-color': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'class-name': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'extended-props': {\r\n            type: Object,\r\n            default: null\r\n        }\r\n    },\r\n\r\n    $parseAttributes: function(node) {\r\n        var self = this;\r\n\r\n        dmx.BaseComponent.prototype.$parseAttributes.call(this, node);\r\n\r\n        // constraint custom parse\r\n        this.parseAttribute(node, 'constraint').forEach(function(attr) {\r\n            if (attr.modifiers['business-hours']) {\r\n                // special case for businessHours modifier\r\n                self.props.constraint = 'businessHours';\r\n            } else {\r\n                if (attr.binding) {\r\n                    // dynamic attribute\r\n                    self.$addBinding(attr.value, function(value) {\r\n                        self.props.constraint = value;\r\n                    });\r\n                } else {\r\n                    // static attribute\r\n                    self.props.constraint = attr.value;\r\n                }\r\n            }\r\n\r\n            // we need to remove the attribute so that the default parser doesn't parse it\r\n            node.removeAttribute(attr.fullName);\r\n        });\r\n    },\r\n\r\n    update: function(props) {\r\n        if (!dmx.equal(props, this.props)) {\r\n            if (this.parent.refetch) {\r\n                this.parent.refetch();\r\n            }\r\n        }\r\n    },\r\n\r\n    // special parse required for constraint attribute\r\n    // supports static/dynamic attributes\r\n    parseAttribute: function(node, attrName) {\r\n        var attributes = [];\r\n        var re = new RegExp('^(dmx\\\\-bind:)?' + attrName.replace(/[-[\\]{}()*+?.,\\^$|#\\s]/g, '\\\\$&'), 'i');\r\n\r\n        if (node.nodeType == 1) {\r\n            for (var i = 0; i < node.attributes.length; i++) {\r\n                var attribute = node.attributes[i];\r\n\r\n                if (attribute && attribute.specified && re.test(attribute.name)) {\r\n                    var name = attribute.name;\r\n                    var argument = null;\r\n                    var modifiers = {};\r\n\r\n                    name = name.replace(/^dmx\\-bind:/i, '');\r\n\r\n                    name.split('.').forEach(function(part, i) {\r\n                        if (i === 0) {\r\n                            name = part;\r\n                        } else {\r\n                            var pos = part.indexOf(':');\r\n                            if (pos > 0) {\r\n                                modifiers[part.substr(0, pos)] = part.substr(pos + 1);\r\n                            } else {\r\n                                modifiers[part] = true;\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    var pos = name.indexOf(':');\r\n                    if (pos > 0) {\r\n                        argument = name.substr(pos + 1);\r\n                        name = name.substr(0, pos);\r\n                    }\r\n\r\n                    attributes.push({\r\n                        name: name,\r\n                        binding: attribute.name.indexOf('dmx-bind:') === 0,\r\n                        fullName: attribute.name,\r\n                        value: attribute.value,\r\n                        argument: argument,\r\n                        modifiers: modifiers\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        return attributes;\r\n    }\r\n\r\n});"]}